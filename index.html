<!doctype html>
<html lang="de" data-theme="auto">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <meta name="color-scheme" content="light dark" />
  <title>Karriere-Portfolio · Dr. med. Markus Lurz</title>
  <meta name="description" content="Interaktive Karrierepfade, Tarif-/Dienstrechner (TV-Ärzte/St. Georg) und Quellenhub für Dr. med. Markus Lurz." />

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300..900&family=JetBrains+Mono:wght@400;600&display=swap" rel="stylesheet" />

  <!-- Tailwind utilities (layout) -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- App CSS -->
  <link rel="stylesheet" href="css/style.css" />

  <!-- Preload -->
  <link rel="preload" href="js/vendor.js" as="script" />
  <link rel="preload" href="js/app.js" as="script" />
  <link rel="preload" href="data/careers.json" as="fetch" crossorigin="anonymous" />

  <!-- CDN registry consumed by vendor.js -->
  <script>
    window.__CDN__ = {
      gsap: "https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js",
      gsapScroll: "https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/ScrollTrigger.min.js",
      lottie: "https://cdnjs.cloudflare.com/ajax/libs/lottie-web/5.12.2/lottie.min.js",
      tippyCore: "https://unpkg.com/tippy.js@6/dist/tippy-bundle.umd.min.js",
      vivus: "https://cdnjs.cloudflare.com/ajax/libs/vivus/0.4.6/vivus.min.js",
      splide: "https://cdn.jsdelivr.net/npm/@splidejs/splide@4.1.4/dist/js/splide.min.js",
      splideCSS: "https://cdn.jsdelivr.net/npm/@splidejs/splide@4.1.4/dist/css/splide.min.css",
      notyfJS: "https://cdn.jsdelivr.net/npm/notyf@3/notyf.min.js",
      notyfCSS: "https://cdn.jsdelivr.net/npm/notyf@3/notyf.min.css",
      fuse: "https://cdn.jsdelivr.net/npm/fuse.js@6.6.2/dist/fuse.min.js",
      chart: "https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"
    };
  </script>

  <!-- Minimal no-JS notice -->
  <style>
    .nojs{position:fixed;inset:auto 1rem 1rem 1rem;background:#111827;color:#fff;padding:.75rem 1rem;border-radius:.5rem;font:600 14px/1.4 Inter,system-ui}
    @media (prefers-color-scheme: light){.nojs{background:#111;color:#fff}}
  </style>
</head>
<body class="antialiased bg-surface text-ink">
  <noscript><div class="nojs">JavaScript ist deaktiviert. Die interaktive Anwendung benötigt JavaScript.</div></noscript>

  <!-- ===========================
       Top Loader
       =========================== -->
  <div id="top-loader" class="top-loader" aria-hidden="true"></div>

  <!-- ===========================
       Header / Global Shell
       =========================== -->
  <header id="app-header" class="sticky top-0 z-50 backdrop-blur supports-backdrop-blur bg-header/70 border-b border-divider">
    <div class="container mx-auto px-4 py-3 flex items-center gap-3">
      <!-- Brand -->
      <a href="#/overview" data-nav="overview" class="flex items-center gap-3 group" aria-label="Startseite">
        <svg id="logo-svg" width="36" height="36" viewBox="0 0 24 24" class="stroke-brand fill-none" aria-hidden="true">
          <path d="M12 3L3 9l9 6 9-6-9-6Z" stroke-width="1.5" />
          <path d="M7 12l5 3 5-3" stroke-width="1.5" />
          <path d="M12 21V9" stroke-width="1.5" />
        </svg>
        <div class="leading-tight">
          <div class="text-sm uppercase tracking-widest text-muted">Karriere-Portfolio</div>
          <div class="font-semibold text-lg">Dr. med. Markus Lurz</div>
        </div>
      </a>

      <!-- Main Nav -->
      <nav class="ml-auto hidden md:flex items-center gap-1" aria-label="Hauptnavigation">
        <a class="nav-link" href="#/overview" data-nav="overview">Übersicht</a>
        <a class="nav-link" href="#/profile" data-nav="profile">Profil</a>
        <a class="nav-link" href="#/tracks" data-nav="tracks">Karrierepfade</a>
        <a class="nav-link" href="#/calculator" data-nav="calculator">Tarif-Rechner</a>
        <a class="nav-link" href="#/compare" data-nav="compare">Vergleich</a>
        <a class="nav-link" href="#/sources" data-nav="sources">Quellen</a>
      </nav>

      <!-- Actions -->
      <div class="ml-2 flex items-center gap-2">
        <!-- Theme toggle (used by app.js) -->
        <button id="theme-toggle" class="btn-ghost" title="Theme umschalten" aria-pressed="false">
          <svg viewBox="0 0 24 24" width="20" height="20" class="stroke-current" aria-hidden="true">
            <path d="M12 3a9 9 0 1 0 9 9 7 7 0 0 1-9-9Z" fill="none" stroke-width="1.5"/>
          </svg>
          <span class="sr-only">Theme umschalten</span>
        </button>
        <!-- Command palette -->
        <button id="cmdk-btn" class="btn-ghost" aria-haspopup="dialog" aria-controls="cmdk-dialog" title="Suchen (⌘/Ctrl + K)">
          <svg viewBox="0 0 24 24" width="20" height="20" class="stroke-current" aria-hidden="true">
            <path d="M11 4a7 7 0 1 1-4.95 2.05M11 4V2M11 22v-2M4 11H2m20 0h-2M5.64 5.64 4.22 4.22m14.14 14.14-1.42-1.42M5.64 18.36 4.22 19.78M19.78 4.22l-1.42 1.42" fill="none" stroke-width="1.5"/>
          </svg>
          <span class="hidden sm:inline">Suchen</span>
        </button>
        <!-- Mobile menu -->
        <button id="menu-toggle" class="btn-ghost md:hidden" aria-expanded="false" aria-controls="mobile-nav" title="Menü">
          <svg viewBox="0 0 24 24" width="22" height="22" class="stroke-current" aria-hidden="true">
            <path d="M3 6h18M3 12h18M3 18h18" fill="none" stroke-width="1.5"/>
          </svg>
          <span class="sr-only">Menü</span>
        </button>
      </div>
    </div>
    <!-- Mobile nav -->
    <div id="mobile-nav" class="md:hidden border-t border-divider hidden">
      <nav class="container mx-auto px-4 py-2 grid grid-cols-2 gap-2" aria-label="Mobile Navigation">
        <a class="nav-item" href="#/overview" data-nav="overview">Übersicht</a>
        <a class="nav-item" href="#/profile" data-nav="profile">Profil</a>
        <a class="nav-item" href="#/tracks" data-nav="tracks">Karrierepfade</a>
        <a class="nav-item" href="#/calculator" data-nav="calculator">Tarif-Rechner</a>
        <a class="nav-item" href="#/compare" data-nav="compare">Vergleich</a>
        <a class="nav-item" href="#/sources" data-nav="sources">Quellen</a>
      </nav>
    </div>
  </header>

  <!-- ===========================
       Main View Port (SPA outlet)
       =========================== -->
  <main id="viewOutlet" class="container mx-auto px-4 pb-24" tabindex="-1" aria-live="polite" aria-busy="false">
    <!-- App-Router rendert hier dynamisch: Overview, Profile, Tracks, Calculator, Compare, Sources -->
  </main>

  <!-- ===========================
       Command Palette Modal
       =========================== -->
  <div id="cmdk-dialog" class="modal" role="dialog" aria-modal="true" aria-labelledby="cmdk-title" hidden>
    <div class="modal-backdrop" data-dismiss></div>
    <div class="modal-card max-w-2xl" role="document">
      <header class="modal-header">
        <h3 id="cmdk-title" class="modal-title">Schnellsuche</h3>
        <button class="btn-ghost" data-dismiss aria-label="Schließen">
          <svg viewBox="0 0 24 24" width="20" height="20" class="stroke-current" aria-hidden="true">
            <path d="M6 6l12 12M18 6L6 18" fill="none" stroke-width="1.5"/>
          </svg>
        </button>
      </header>
      <div class="modal-body">
        <label class="input-wrap w-full">
          <svg viewBox="0 0 24 24" width="18" height="18" class="stroke-current" aria-hidden="true">
            <circle cx="11" cy="11" r="7" fill="none" stroke-width="1.5"></circle>
            <path d="M21 21l-4.3-4.3" fill="none" stroke-width="1.5"></path>
          </svg>
          <input id="cmdk-input" type="search" placeholder="Rolle, Arbeitgeber, Ort, Remote…" autocomplete="off" />
        </label>
        <div id="cmdk-results" class="cmdk-results mt-3"></div>
      </div>
    </div>
  </div>

  <!-- ===========================
       Toasts
       =========================== -->
  <div id="toasts" class="toasts" aria-live="polite" aria-atomic="true"></div>

  <!-- ===========================
       Footer
       =========================== -->
  <footer class="border-t border-divider bg-footer">
    <div class="container mx-auto px-4 py-8 text-sm text-muted flex flex-col md:flex-row items-start md:items-center gap-4">
      <div>© <span id="year"></span> Dr. med. Markus Lurz · Radiologie</div>
      <div class="md:ml-auto flex flex-wrap items-center gap-3">
        <a class="link" href="#/sources" data-nav="sources">Quellen</a>
        <a class="link" href="#/profile" data-nav="profile">Profil</a>
        <button class="btn-ghost btn-xs with-stroke" id="export-btn" title="Export als PDF/Markdown">
          <svg viewBox="0 0 24 24" width="18" height="18" class="stroke-current" aria-hidden="true"><path d="M12 3v12m0 0l-4-4m4 4l4-4M4 21h16" fill="none" stroke-width="1.5"/></svg>
          Export
        </button>
      </div>
    </div>
  </footer>

  <!-- Scripts -->
  <script src="js/vendor.js"></script>
  <script src="js/app.js" defer></script>
  <script>document.getElementById('year').textContent = new Date().getFullYear();</script>
</body>
</html>
